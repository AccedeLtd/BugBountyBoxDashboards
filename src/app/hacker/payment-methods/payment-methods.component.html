<div
  class="flex flex-col bg-white rounded w-full mx-auto animate__animated animate__fadeIn"
>
  <div class="bg-[#3909d1] animate__animated animate__fadeIn">
    <h1 class="text-white !text-base p-2 animate__animated animate__fadeIn">
      Payment Methods
    </h1>
  </div>

  <!-- for payment methods -->
  <div class="flex flex-col gap-3 items-center text-gray-800 p-3 rounded-md">
    <ng-container *ngIf="loadingPaymentMethods">
      <div class="flex flex-col items-center">
        <div class="flex-shrink pr-4">
          <div
            class="p-1 h-48 w-auto min-h-full flex items-center justify-center"
          >
            <mat-spinner [diameter]="30" class="mx-auto"></mat-spinner>
          </div>
        </div>
      </div>
    </ng-container>

    <ng-container *ngIf="!loadingPaymentMethods">
      <ng-container *ngIf="paymentMethods.length == 0">
        <div class="relative p-8 text-center rounded-lg">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            xmlns:xlink="http://www.w3.org/1999/xlink"
            data-name="Layer 1"
            class="mx-auto"
            width="150"
            height="100"
            viewBox="0 0 567.1704 517.30967"
          >
            <rect
              x="326.03543"
              y="307.38928"
              width="495"
              height="45"
              transform="translate(-385.45426 -17.88532) rotate(-16.24392)"
              fill="#3f3d56"
            />
            <path
              d="M386.40028,575.96948,316.35377,335.55639a7.0001,7.0001,0,0,1,4.76257-8.67871L784.8346,191.76928a7.00645,7.00645,0,0,1,8.67871,4.76221l62.05591,212.98877-1.92016.55957L791.59315,197.09106a5.00865,5.00865,0,0,0-6.19922-3.40186L321.67579,328.7976a5.00029,5.00029,0,0,0-3.40186,6.19922l70.04651,240.41309Z"
              transform="translate(-316.07106 -191.48811)"
              fill="#3f3d56"
            />
            <path
              d="M752.93324,410.51a6.51233,6.51233,0,0,1-6.24341-4.6831l-11.74854-40.32324a6.50734,6.50734,0,0,1,4.42212-8.0586l40.32349-11.74853a6.50722,6.50722,0,0,1,8.05859,4.42285L799.494,390.44262a6.50733,6.50733,0,0,1-4.42212,8.05859l-40.32349,11.74854A6.47854,6.47854,0,0,1,752.93324,410.51Z"
              transform="translate(-316.07106 -191.48811)"
              fill="#3909d1"
            />
            <path
              d="M385.31751,336.3a11.691,11.691,0,0,0-.43017-1.22,11.99972,11.99972,0,0,0-22.90967,6.67,11.37989,11.37989,0,0,0,.29,1.26,12.01924,12.01924,0,0,0,11.52978,8.64,11.74908,11.74908,0,0,0,3.3501-.48A12.01262,12.01262,0,0,0,385.31751,336.3Zm-8.73,12.95a10.01322,10.01322,0,0,1-12.3999-6.8,11.435,11.435,0,0,1-.28027-1.26,9.99681,9.99681,0,0,1,19.04-5.54,8.33837,8.33837,0,0,1,.45019,1.21A10.00446,10.00446,0,0,1,376.58753,349.25006Z"
              transform="translate(-316.07106 -191.48811)"
              fill="#3909d1"
            />
            <path
              d="M355.88508,344.87a11.00221,11.00221,0,0,1,4.20834-12.0571,11,11,0,1,0,5.81753,19.96694A11.00221,11.00221,0,0,1,355.88508,344.87Z"
              transform="translate(-316.07106 -191.48811)"
              fill="#3909d1"
            />
            <path
              d="M666.7472,394.43005a6.04249,6.04249,0,0,0-7.44971-4.2L592.90736,408.8l-7.14991,2h44.89991l7.1499-2,24.75-6.92A6.04864,6.04864,0,0,0,666.7472,394.43005Z"
              transform="translate(-316.07106 -191.48811)"
              fill="#ccc"
            />
            <path
              d="M619.77747,380.56005a6.04513,6.04513,0,0,0-7.45019-4.19l-99.61963,27.86a6.06838,6.06838,0,0,0-4.37012,6.57h25.79l7.15967-2,74.30029-20.78A6.05544,6.05544,0,0,0,619.77747,380.56005Z"
              transform="translate(-316.07106 -191.48811)"
              fill="#ccc"
            />
            <path
              d="M876.24147,408.79777H393.241a7.00787,7.00787,0,0,0-7,7v286a7.00755,7.00755,0,0,0,7,7H876.24147a7.00786,7.00786,0,0,0,7-7v-286A7.00818,7.00818,0,0,0,876.24147,408.79777Zm5,293a5.00181,5.00181,0,0,1-5,5H393.241a5.0018,5.0018,0,0,1-5-5v-286a5.00213,5.00213,0,0,1,5-5H876.24147a5.00213,5.00213,0,0,1,5,5Z"
              transform="translate(-316.07106 -191.48811)"
              fill="#3f3d56"
            />
            <path
              d="M440.23744,447.8a12,12,0,1,1,12-12A12.01375,12.01375,0,0,1,440.23744,447.8Zm0-22a10,10,0,1,0,10,10A10.0113,10.0113,0,0,0,440.23744,425.8Z"
              transform="translate(-316.07106 -191.48811)"
              fill="#3909d1"
            />
            <path
              d="M421.58526,435.8a11.00221,11.00221,0,0,1,7.413-10.39858,11,11,0,1,0,0,20.79717A11.00222,11.00222,0,0,1,421.58526,435.8Z"
              transform="translate(-316.07106 -191.48811)"
              fill="#3909d1"
            />
            <path
              d="M488.88112,577.57805a9.01031,9.01031,0,0,1-9-9v-27a9,9,0,0,1,18,0v27A9.01032,9.01032,0,0,1,488.88112,577.57805Z"
              transform="translate(-316.07106 -191.48811)"
              fill="#3909d1"
            />
            <path
              d="M512.88112,577.57805a9.01031,9.01031,0,0,1-9-9v-27a9,9,0,0,1,18,0v27A9.01032,9.01032,0,0,1,512.88112,577.57805Z"
              transform="translate(-316.07106 -191.48811)"
              fill="#3909d1"
            />
            <path
              d="M536.88112,577.57805a9.01031,9.01031,0,0,1-9-9v-27a9,9,0,0,1,18,0v27A9.01032,9.01032,0,0,1,536.88112,577.57805Z"
              transform="translate(-316.07106 -191.48811)"
              fill="#3909d1"
            />
            <path
              d="M573.88112,577.57805a9.01031,9.01031,0,0,1-9-9v-27a9,9,0,0,1,18,0v27A9.01032,9.01032,0,0,1,573.88112,577.57805Z"
              transform="translate(-316.07106 -191.48811)"
              fill="#3909d1"
            />
            <path
              d="M597.88112,577.57805a9.01031,9.01031,0,0,1-9-9v-27a9,9,0,0,1,18,0v27A9.01032,9.01032,0,0,1,597.88112,577.57805Z"
              transform="translate(-316.07106 -191.48811)"
              fill="#3909d1"
            />
            <path
              d="M621.88112,577.57805a9.01031,9.01031,0,0,1-9-9v-27a9,9,0,0,1,18,0v27A9.01032,9.01032,0,0,1,621.88112,577.57805Z"
              transform="translate(-316.07106 -191.48811)"
              fill="#3909d1"
            />
            <path
              d="M658.88112,577.57805a9.01031,9.01031,0,0,1-9-9v-27a9,9,0,0,1,18,0v27A9.01032,9.01032,0,0,1,658.88112,577.57805Z"
              transform="translate(-316.07106 -191.48811)"
              fill="#3909d1"
            />
            <path
              d="M682.88112,577.57805a9.01031,9.01031,0,0,1-9-9v-27a9,9,0,0,1,18,0v27A9.01032,9.01032,0,0,1,682.88112,577.57805Z"
              transform="translate(-316.07106 -191.48811)"
              fill="#3909d1"
            />
            <path
              d="M706.88112,577.57805a9.01031,9.01031,0,0,1-9-9v-27a9,9,0,0,1,18,0v27A9.01032,9.01032,0,0,1,706.88112,577.57805Z"
              transform="translate(-316.07106 -191.48811)"
              fill="#3909d1"
            />
            <path
              d="M743.88112,577.57805a9.01031,9.01031,0,0,1-9-9v-27a9,9,0,0,1,18,0v27A9.01032,9.01032,0,0,1,743.88112,577.57805Z"
              transform="translate(-316.07106 -191.48811)"
              fill="#3909d1"
            />
            <path
              d="M767.88112,577.57805a9.01031,9.01031,0,0,1-9-9v-27a9,9,0,0,1,18,0v27A9.01032,9.01032,0,0,1,767.88112,577.57805Z"
              transform="translate(-316.07106 -191.48811)"
              fill="#3909d1"
            />
            <path
              d="M791.88112,577.57805a9.01031,9.01031,0,0,1-9-9v-27a9,9,0,0,1,18,0v27A9.01032,9.01032,0,0,1,791.88112,577.57805Z"
              transform="translate(-316.07106 -191.48811)"
              fill="#3909d1"
            />
            <path
              d="M549.89914,677.745H420.45883a6.04736,6.04736,0,1,1,0-12.09472H549.89914a6.04736,6.04736,0,1,1,0,12.09472Z"
              transform="translate(-316.07106 -191.48811)"
              fill="#e6e6e6"
            />
            <path
              d="M508.39914,651.745H461.95883a6.04736,6.04736,0,1,1,0-12.09472h46.44031a6.04736,6.04736,0,1,1,0,12.09472Z"
              transform="translate(-316.07106 -191.48811)"
              fill="#e6e6e6"
            />
            <rect
              x="71.81005"
              y="277.08994"
              width="493"
              height="2"
              fill="#3f3d56"
            />
          </svg>

          <h2 class="text-2xl font-medium">There's nothing here...</h2>

          <p class="mt-4 text-sm text-gray-500">
            Payment methods will appear here.
          </p>
          <br />
          <button
            class="hover:bg-[#fc007e] px-16 py-4 text-xs text-white rounded-full animate__animated animate__fadeIn"
            (click)="openDialog()"
          >
            Add Payment Method
          </button>
        </div>
      </ng-container>

      <ng-container *ngIf="paymentMethods.length > 0">
        <ul role="list" class="divide-y divide-slate-200 relative grid gap-2">
          <ng-container *ngFor="let paymentMethod of paymentMethods">
            <li
              *ngIf="paymentMethod.platform == PaymentMethodPlatform.Mpesa"
              class="flex pt-4 first:pt-4 last:pb-0 grid grid-cols-5 gap-2 hover:bg-gray-100"
            >
              <svg
                class="col-span-2"
                xmlns="http://www.w3.org/2000/svg"
                width="150"
                height="50"
                viewBox="0 0 167 83.999"
              >
                <g
                  id="Group_192"
                  data-name="Group 192"
                  transform="translate(-93.684 -378.718)"
                >
                  <path
                    id="Path_338"
                    data-name="Path 338"
                    d="M141.188,394.525H154.01a7.45,7.45,0,0,1,7.415,7.439v21.389a7.449,7.449,0,0,1-7.415,7.438H141.188a7.448,7.448,0,0,1-7.415-7.438V401.965a7.449,7.449,0,0,1,7.415-7.439Z"
                    fill="#fff"
                    fill-rule="evenodd"
                  />
                  <path
                    id="Path_339"
                    data-name="Path 339"
                    d="M158.645,462.717H136.554a5.9,5.9,0,0,1-5.871-5.89V391.891a5.9,5.9,0,0,1,5.871-5.89h22.091a5.882,5.882,0,0,1,.772.051v-4.778a2.561,2.561,0,0,1,2.55-2.556h0a2.561,2.561,0,0,1,2.55,2.556v8.059a2.548,2.548,0,0,1-.208,1.008,5.872,5.872,0,0,1,.208,1.549v64.936a5.9,5.9,0,0,1-5.871,5.89Zm-17.457-68.192H154.01a7.45,7.45,0,0,1,7.415,7.439v21.389a7.449,7.449,0,0,1-7.415,7.438H141.188a7.448,7.448,0,0,1-7.415-7.438V401.965a7.449,7.449,0,0,1,7.415-7.439Z"
                    fill="#d1e187"
                    fill-rule="evenodd"
                  />
                  <path
                    id="Path_340"
                    data-name="Path 340"
                    d="M169.709,395.887l14.1-.054c5.14.654,7.515,4.514,7.3,10.129-.392,5.658-3.59,8.424-8.931,8.909l-5.118-.1.144,15.524h-7.492V395.887Zm7.571,3.53c3.48-.5,6.152.469,6.334,5.966-.116,4.907-2.716,6.149-6.334,5.89V399.416Z"
                    fill="#8bc53f"
                    fill-rule="evenodd"
                  />
                  <path
                    id="Path_341"
                    data-name="Path 341"
                    d="M204.2,395.461l8.925-.041-.067,3.843-6.991-.032c-4.034.752-3.131,5.069-3.326,8.188l9.405-.177.033,4.718-9.114-.1-.043,11.422c.357,2.962,1.911,4.452,4.535,4.624l5.005-.056,1.527.035-.048,3.564-1.563.06-9.515-.1c-3.279-.111-5.927-1.742-7.146-6.814l-.233-22.162c.135-4.543,3.125-6.771,8.614-6.975Z"
                    fill="#8bc53f"
                    fill-rule="evenodd"
                  />
                  <path
                    id="Path_342"
                    data-name="Path 342"
                    d="M216.4,405.185c-.563-7.423,3.561-9.1,8.575-9.685,5.868-.35,9.554,2.106,10.273,8.37l-6.927-.019c-.439-3.159-2.89-4.374-5.132-2.869-3.195,3.922,6.778,10.824,9.768,13.385,5.169,4.1,4.294,15.467-3.667,17.574l-4.855.173c-4.931.116-7.866-3.008-8.716-8.8l6.979-.122c.381,2.473,1.433,4.011,3.667,3.9,3.475-.663,4.432-3.733,1.96-7.649-5.175-4.409-11.3-8.545-11.925-14.258Z"
                    fill="#8bc53f"
                    fill-rule="evenodd"
                  />
                  <path
                    id="Path_343"
                    data-name="Path 343"
                    d="M93.684,394.338h7.338l.076,2.286c4.433-1.921,7.777-3.28,11.279-.116,6.261-2.966,11-2.629,13.345,2.877l.327,30.908h-7.4V400.81c-.549-2.523-2.54-2.955-4.944-2.788v32.271h-7.569V400.81c-.549-2.523-2.54-2.955-4.944-2.788v32.271H93.684V394.338Z"
                    fill="#8bc53f"
                    fill-rule="evenodd"
                  />
                  <path
                    id="Path_344"
                    data-name="Path 344"
                    d="M239.364,431.2h7.609V412.211h6.334V431.2h7.377V404.075c-.147-5.511-4.371-8.966-10.352-8.988-6.821-.06-10.712,3.184-10.969,8.678V431.2Zm7.609-29.058c.252-2.026.909-2.842,3.128-3.06,2.251.057,3.054,1.362,3.206,3.37v5.5h-6.334v-5.812Z"
                    fill="#8bc53f"
                    fill-rule="evenodd"
                  />
                  <path
                    id="Path_345"
                    data-name="Path 345"
                    d="M139.68,409c1.27,2.976,3,4.346,5.088,4.428A29.281,29.281,0,0,1,134.3,418.3a33.248,33.248,0,0,1-6.666-1.327c5.421-1.074,9.462-3.706,12.05-7.982Z"
                    fill="#81211c"
                    fill-rule="evenodd"
                  />
                  <path
                    id="Path_346"
                    data-name="Path 346"
                    d="M153.894,401.325l15.294,7.749c-7.79,10.28-20.924,10.55-34.915,9.221,9.353-2.313,15.828-8.045,19.621-16.97Z"
                    fill="#eb2026"
                    fill-rule="evenodd"
                  />
                </g>
              </svg>

              <div class="col-span-2"></div>
              <div class="ml-3 overflow-hidden">
                <button
                  mat-icon-button
                  [matMenuTriggerFor]="menu"
                  aria-label="Toggle menu"
                >
                  <mat-icon>more_vert</mat-icon>
                </button>
                <mat-menu #menu="matMenu" xPosition="before">
                  <button
                    mat-menu-item
                    (click)="removePaymentMethod(paymentMethod.id)"
                  >
                    Remove
                  </button>
                </mat-menu>
              </div>
              <div class="ml-3 overflow-hidden text-left space-y-1 mx-auto">
                <p
                  class="text-sm text-gray-900 animate__animated animate__fadeIn"
                >
                  +{{ paymentMethod.phone | slice: 0:3 }}
                  {{ paymentMethod.phone | slice: 3:6 }}
                  {{ paymentMethod.phone | slice: 6:12 }}
                </p>
                <p
                  class="text-xs text-gray-500 truncate animate__animated animate__fadeIn"
                >
                  Added on
                  {{
                    paymentMethod.createdAt
                      ? (paymentMethod.createdAt | date: "dd/MM/yyyy")
                      : "- -"
                  }}
                </p>
              </div>
            </li>

            <li
              *ngIf="paymentMethod.platform == PaymentMethodPlatform.Paypal"
              class="flex pt-4 first:pt-4 last:pb-0 grid grid-cols-5 gap-2 hover:bg-gray-100"
            >
              <svg
                class="col-span-2"
                xmlns="http://www.w3.org/2000/svg"
                width="150"
                height="50"
                viewBox="0 0 194 47.001"
              >
                <g
                  id="Group_193"
                  data-name="Group 193"
                  transform="translate(-416.523 -497.291)"
                >
                  <path
                    id="Path_347"
                    data-name="Path 347"
                    d="M433.45,508.352h13.258c7.118,0,9.8,3.6,9.384,8.9-.682,8.742-5.966,13.575-12.976,13.575h-3.54c-.961,0-1.606.634-1.869,2.36l-1.518,10.019c-.1.652-.441,1.035-.955,1.081h-8.313c-.782,0-1.061-.6-.856-1.9l5.076-32.143A2.028,2.028,0,0,1,433.45,508.352Z"
                    fill="#009de2"
                    fill-rule="evenodd"
                  />
                  <path
                    id="Path_348"
                    data-name="Path 348"
                    d="M491,507.759c4.474,0,8.6,2.425,8.036,8.473-.67,7.171-4.534,11.164-10.611,11.18h-5.3c-.764,0-1.131.622-1.332,1.9l-1.025,6.526c-.154.985-.658,1.472-1.408,1.472h-4.937c-.786,0-1.061-.5-.886-1.63l4.081-26.157c.2-1.287.694-1.765,1.566-1.765Zm-8.042,14h4.021c2.515-.094,4.187-1.835,4.356-4.977a3.037,3.037,0,0,0-3.293-3.319l-3.786.016-1.3,8.28Zm29.5,13.545c.451-.409.91-.624.844-.118l-.16,1.213c-.084.63.168.969.758.969h4.386c.738,0,1.1-.3,1.281-1.442l2.7-16.966c.134-.852-.072-1.269-.72-1.269h-4.821c-.435,0-.646.243-.76.909l-.179,1.043c-.094.545-.343.64-.576.092-.818-1.939-2.906-2.808-5.832-2.747-6.767.14-11.329,5.276-11.816,11.86a8.154,8.154,0,0,0,8.082,9.093,8.72,8.72,0,0,0,6.809-2.635Zm-3.67-2.607a4.406,4.406,0,0,1-4.52-5.17,6.3,6.3,0,0,1,6.059-5.172,4.407,4.407,0,0,1,4.518,5.172,6.3,6.3,0,0,1-6.057,5.17Zm22.072-15.063h-4.432c-.919,0-1.292.674-1,1.528l5.521,16.172-5.441,7.693c-.455.642-.1,1.229.537,1.229h5a1.53,1.53,0,0,0,1.486-.73l16.984-24.364c.523-.752.277-1.536-.58-1.536l-4.729-.006c-.81,0-1.137.321-1.6,1L535.525,528.9l-3.151-10.3A1.362,1.362,0,0,0,530.864,517.635Z"
                    fill="#113984"
                    fill-rule="evenodd"
                  />
                  <path
                    id="Path_349"
                    data-name="Path 349"
                    d="M567.2,507.759c4.474,0,8.6,2.425,8.036,8.473-.67,7.171-4.534,11.164-10.613,11.18h-5.3c-.764,0-1.131.622-1.332,1.9l-1.023,6.526c-.154.985-.66,1.472-1.408,1.472H550.62c-.788,0-1.063-.5-.886-1.63l4.081-26.157c.2-1.287.692-1.765,1.564-1.765Zm-8.044,14h4.023c2.515-.094,4.185-1.835,4.354-4.977a3.035,3.035,0,0,0-3.293-3.319l-3.786.016-1.3,8.28Zm29.5,13.545c.451-.409.912-.624.846-.118l-.16,1.213c-.084.63.166.969.756.969h4.388c.738,0,1.1-.3,1.279-1.442l2.7-16.966c.136-.852-.07-1.269-.718-1.269h-4.823c-.435,0-.646.243-.76.909l-.178,1.043c-.092.545-.343.64-.574.092-.82-1.939-2.906-2.808-5.834-2.747-6.766.14-11.327,5.276-11.816,11.86a8.154,8.154,0,0,0,8.082,9.093,8.717,8.717,0,0,0,6.809-2.635Zm-3.67-2.607a4.406,4.406,0,0,1-4.518-5.17,6.3,6.3,0,0,1,6.057-5.172,4.4,4.4,0,0,1,4.518,5.172,6.3,6.3,0,0,1-6.057,5.17Zm20.233,4.7h-5.062a.6.6,0,0,1-.622-.7l4.454-28.18a.874.874,0,0,1,.84-.7h5.064a.6.6,0,0,1,.62.7l-4.452,28.18A.872.872,0,0,1,605.22,537.4Z"
                    fill="#009de2"
                    fill-rule="evenodd"
                  />
                  <path
                    id="Path_350"
                    data-name="Path 350"
                    d="M425.161,497.291h13.272c3.738,0,8.17.122,11.136,2.737a8.978,8.978,0,0,1,2.78,7.518c-.812,10.133-6.875,15.809-15,15.809H430.8c-1.113,0-1.851.738-2.166,2.737l-1.827,11.619c-.118.754-.445,1.2-1.041,1.251h-8.176c-.906,0-1.229-.694-.993-2.2l5.888-37.271A2.35,2.35,0,0,1,425.161,497.291Z"
                    fill="#113984"
                    fill-rule="evenodd"
                  />
                  <path
                    id="Path_351"
                    data-name="Path 351"
                    d="M428.825,524.921l2.316-14.668a2.028,2.028,0,0,1,2.308-1.9h13.258a12.946,12.946,0,0,1,5.359.975c-1.332,9.018-7.166,14.028-14.8,14.028h-6.546C429.854,523.355,429.212,523.8,428.825,524.921Z"
                    fill="#172c70"
                    fill-rule="evenodd"
                  />
                </g>
              </svg>

              <div class="col-span-2"></div>
              <div class="ml-3 overflow-hidden">
                <button
                  mat-icon-button
                  [matMenuTriggerFor]="menu"
                  aria-label="Toggle menu"
                >
                  <mat-icon>more_vert</mat-icon>
                </button>
                <mat-menu #menu="matMenu" xPosition="before">
                  <button
                    mat-menu-item
                    (click)="removePaymentMethod(paymentMethod.id)"
                  >
                    Remove
                  </button>
                </mat-menu>
              </div>
              <div class="ml-3 overflow-hidden text-left space-y-1 mx-auto">
                <p
                  class="text-sm text-gray-900 animate__animated animate__fadeIn"
                >
                  {{ paymentMethod.email }}
                </p>
                <p
                  class="text-xs text-gray-500 truncate animate__animated animate__fadeIn"
                >
                  Added on
                  {{
                    paymentMethod.createdAt
                      ? (paymentMethod.createdAt | date: "dd/MM/yyyy")
                      : "- -"
                  }}
                </p>
              </div>
            </li>
          </ng-container>
        </ul>
        <div class="mt-12 flex text-sm space-x-6 justify-center">
          <button
            class="hover:bg-[#fc007e] px-16 py-4 text-xs text-white rounded-full animate__animated animate__fadeIn"
            (click)="openDialog()"
          >
            Add Payment Method
          </button>
        </div>
      </ng-container>
    </ng-container>
  </div>
</div>
